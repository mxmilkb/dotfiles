# This file has been auto-generated by i3-config-wizard and altered by milk.
# It will not be overwritten, so edit it as you like.
#
# to start afresh, run i3-config-wizard(1).
#

# i3 config file (v4.milk)
#
# Please see http://i3wm.org/docs/userguide.html for a complete reference!


# deps: urxvtcd (etc.), i3lock


# tiling split direction
default_orientation vertical

# Switch to workspace with urgent window automatically
for_window [urgent=latest] focus


# Mod4 = win (super) key
# Mod1 = alt key
set $mod Mod4


# reload the configuration file
bindsym $mod+Shift+c reload

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart


# Set shut down, restart and locking features
bindsym $mod+Shift+Escape mode "$mode_system"
set $mode_system (l)ock, (e)xit, switch_(u)ser, (s)uspend, (h)ibernate, (r)eboot, (Shift+s)hutdown
mode "$mode_system" {
  bindsym l exec --no-startup-id i3exit lock, mode "default"
  bindsym s exec --no-startup-id i3exit suspend, mode "default"
  bindsym u exec --no-startup-id i3exit switch_user, mode "default"
  bindsym e exec --no-startup-id i3exit logout, mode "default"
  bindsym h exec --no-startup-id i3exit hibernate, mode "default"
  bindsym r exec --no-startup-id i3exit reboot, mode "default"
  bindsym Shift+s exec --no-startup-id i3exit shutdown, mode "default"

  # exit system mode: "Enter" or "Escape"
  bindsym Return mode "default"
  bindsym Escape mode "default"
	bindsym space mode "default"
}

# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"


# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below. ISO 10646 = Unicode
# font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
# The font above is very space-efficient, that is, it looks good, sharp and
# clear in small sizes. However, if you need a lot of unicode glyphs or
# right-to-left text rendering, you should instead use pango for rendering and
# chose a FreeType font, such as:
# font pango:DejaVu 8ans Mono 10
# set $font -*-terminus-*-*-*-16-*-*-*-*-*-*-*
font xft:xos4 terminus 16


# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# right mouse button on a window title moves it to the other monitor
bindsym --release $mod+button3 move window to output right

# ctrl and right click a window title, this kills the window
bindsym --release $mod+Ctrl+button3 kill

# terminal variable
set $terminal xterm

# start a terminal
# bindsym $mod+Return exec i3-sensible-terminal
# bindsym $mod+Return exec urxvtcd
bindsym $mod+Return exec "i3-msg exec xterm"

# start a floating terminal
bindsym $mod+Shift+Return exec --no-startup-id urxvt -name "floating_urxvt"
for_window [class="URxvt" instance="floating_urxvt$"] floating toggle

# clock terminal
bindsym $mod+shift+semicolon exec -name "floating-tty-clock" "urxvtc -geometry 35x9 -e tty-clock -s -b -c -C 2 -D"
for_window [class="URxvt" instance="floating-tty-clock$"] floating toggle


# kill focused window
bindsym $mod+q kill
bindsym $mod+Delete kill
bindsym $mod+c kill


# start dmenu (a program launcher)
# bindsym $mod+space exec dmenu_run.pl -h 17 -fn $font -nb '#000000' -nf '#c5c5c5' -sb '#4f2877' -sf '#ffffff' -dim 0.4 -dc '#485D00'
# There also is the (new) i3-dmenu-desktop which only displays applications
# shipping a .desktop file. It is a wrapper around dmenu, so you need that
# installed.
# bindsym $mod+d exec --no-startup-id i3-dmenu-desktop
bindsym $mod+space exec "dlaunch --sources=exec-path"


# launch audio apps
bindsym $mod+p exec pavucontrol
bindsym $mod+Shift+p exec cadence
# bindsym $mod+Shift+p exec urxvtc -geometry 130x30 -e alsamixer -c0

# change pulseaudio volume
bindsym $mod+Ctrl+KP_Subtract exec "pactl set-sink-mute 0 false ; pactl set-sink-volume 0 -3%"
bindsym $mod+Ctrl+KP_Add exec "pactl set-sink-mute 0 false ; pactl set-sink-volume 0 +3%"
bindsym $mod+Ctrl+KP_Multiply exec "pactl set-sink-mute 0 toggle"

bindsym $mod+Shift+Ctrl+minus exec "pactl set-sink-mute 0 false ; pactl set-sink-volume 0 -3%"
bindsym $mod+Shift+Ctrl+plus exec "pactl set-sink-mute 0 false ; pactl set-sink-volume 0 +3%"
bindsym $mod+Shift+Ctrl+apostrophe exec "pactl set-sink-mute 0 toggle"

# launch screen lock
bindsym $mod+Shift+x exec i3lock

# launch scratchpad text file
bindsym $mod+F2 exec leafpad ~/documents/scratch


# change focus - using vim equivalent binds not i3 default
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

bindsym $mod+Down focus down
bindsym $mod+Up focus up

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# alternatively, you can use the cursor keys:
# bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
# bindsym $mod+Shift+Right move right

# new windows will be split in horizontal orientation
# bindsym $mod+b split h
# mnemonic b as in just below h
# new windows will be split in vertical orientation
# bindsym $mod+v split v

# toggle between horizontal/vertical splitting for new windows
bindsym $mod+Shift+w split toggle

# change container layout
bindsym $mod+w layout toggle split
bindsym $mod+s layout stacking
# mnemonic: below w, stacking puts window titles visually below each other
bindsym $mod+e layout tabbed

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
#bindsym $mod+d focus child


# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen

# toggle tiling / floating
bindsym $mod+Shift+f floating toggle

# change focus between tiling / floating windows
bindsym $mod+t focus mode_toggle


# sticky application to always on
bindsym $mod+x sticky toggle

# scratchpad window
bindsym $mod+numbersign scratchpad show
bindsym $mod+Shift+numbersign move scratchpad

# toggle bar visibility
bindsym $mod+z bar mode toggle


# assign workspace to monitor
workspace $ws1 output DVI-I-1
workspace $ws2 output DVI-I-1
workspace $ws3 output DVI-I-1
workspace $ws4 output DVI-I-1
workspace $ws5 output DVI-I-1
workspace $ws6 output DVI-I-0
workspace $ws7 output DVI-I-0
workspace $ws8 output DVI-I-0
workspace $ws9 output DVI-I-0
workspace $ws10 output DVI-I-0

# # workspace name varilables, numerical keeps them in persistent order
# set $ws1 "1:web"
# set $ws2 "2:misc"
# set $ws3 "3:term"
# set $ws4 "4:misc"
# set $ws5 "5:misc"
# set $ws6 "6:app"
# set $ws7 "7:term"
# set $ws8 "8:term"
# set $ws9 "9:jack"
# set $ws10 "10:vol"

# workspace name varilables, numerical keeps them in persistent order
set $ws1 "1one"
set $ws2 "2two"
set $ws3 "3three"
set $ws4 "4four"
set $ws5 "5five"
set $ws6 "6six"
set $ws7 "7seven"
set $ws8 "8eight"
set $ws9 "9nine"
set $ws10 "10ten"

# Rename workspace with i3-input using numbers and text
# bindsym $mod+Shift+n exec i3-input -F 'rename workspace to "%s"' -P 'New name: '

# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

# # move focused container to workspace
# bindsym $mod+Shift+1 move container to workspace $ws1
# bindsym $mod+Shift+2 move container to workspace $ws2
# bindsym $mod+Shift+3 move container to workspace $ws3
# bindsym $mod+Shift+4 move container to workspace $ws4
# bindsym $mod+Shift+5 move container to workspace $ws5
# bindsym $mod+Shift+6 move container to workspace $ws6
# bindsym $mod+Shift+7 move container to workspace $ws7
# bindsym $mod+Shift+8 move container to workspace $ws8
# bindsym $mod+Shift+9 move container to workspace $ws9
# bindsym $mod+Shift+0 move container to workspace $ws10

# move focused container to workspace and follow
bindsym $mod+Shift+1 move container to workspace $ws1; workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2; workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3; workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4; workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5; workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6; workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7; workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8; workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9; workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10; workspace $ws10

# num-pad workspace window move
bindsym $mod+Shift+KP_1 move container to workspace $ws1; workspace $ws1
bindsym $mod+Shift+KP_2 move container to workspace $ws2; workspace $ws2
bindsym $mod+Shift+KP_3 move container to workspace $ws3; workspace $ws3
bindsym $mod+Shift+KP_4 move container to workspace $ws4; workspace $ws4
bindsym $mod+Shift+KP_5 move container to workspace $ws5; workspace $ws5
bindsym $mod+Shift+KP_6 move container to workspace $ws6; workspace $ws6
bindsym $mod+Shift+KP_7 move container to workspace $ws7; workspace $ws7
bindsym $mod+Shift+KP_8 move container to workspace $ws8; workspace $ws8
bindsym $mod+Shift+KP_9 move container to workspace $ws9; workspace $ws9
bindsym $mod+Shift+KP_0 move container to workspace $ws10; workspace $ws10

# move focused container to workspace and don't follow
bindsym $mod+Ctrl+1 move container to workspace $ws1
bindsym $mod+Ctrl+2 move container to workspace $ws2
bindsym $mod+Ctrl+3 move container to workspace $ws3
bindsym $mod+Ctrl+4 move container to workspace $ws4
bindsym $mod+Ctrl+5 move container to workspace $ws5
bindsym $mod+Ctrl+6 move container to workspace $ws6
bindsym $mod+Ctrl+7 move container to workspace $ws7
bindsym $mod+Ctrl+8 move container to workspace $ws8
bindsym $mod+Ctrl+9 move container to workspace $ws9
bindsym $mod+Ctrl+0 move container to workspace $ws10

# move container to next empty workspace
bindsym $mod+Shift+slash exec "~/bin/i3/i3-nextempty.sh"


# windows like alt tab
set $i3t_alt_tab        ~/bin/i3/i3t.py n
set $i3t_alt_shift_tab  ~/bin/i3/i3t.py p
bindsym $mod+Tab exec   exec $i3t_alt_tab
bindsym $mod+Shift+Tab  exec $i3t_alt_shift_tab

# jump between last two workspaces
bindsym $mod+grave workspace back_and_forth


# move between workspaces
bindsym $mod+Left workspace prev
bindsym $mod+Right workspace next

# move windows between workspaces and follow
bindsym $mod+Shift+Left move workspace prev; workspace prev
bindsym $mod+Shift+Right move workspace next; workspace next

# move windows between workspaces
bindsym $mod+Ctrl+Left move workspace prev
bindsym $mod+Ctrl+Right move workspace next


# change focus between monitor outputs
bindsym $mod+o focus output right

# move a window between outputs and follow
bindsym $mod+Shift+o move window to output right; focus output right

# move a window between outputs and don't follow
bindsym $mod+Ctrl+o move window to output right


# move workspace to between outputs
bindsym $mod+Shift+i exec "~/bin/i3/cycle-workspace.py"

# swap workspaces between outputs
bindsym $mod+Ctrl+i exec "~/bin/i3/switch.py"


# assign apps to default workspaces
# assign [class="/usr/bin/chromium-snapshot-bin"] $ws1
assign [class="Cadence.py"] $ws10
assign [class="Pavucontrol"] $ws10

# auto float
# for_window [class="Cadence.py"] floating enable
# for_window [class="Pavucontrol"] floating enable
# for_window [class="octopi-notifier"] floating enable
for_window [class="Pamac-updater"] floating enable
for_window [class="Syncthing GTK"] floating enable
for_window [title="alsamixer"] floating enable 
for_window [class="Vlc"] floating enable
for_window [class="(?i)virtualbox"] floating enable border normal
for_window [class="GParted"] floating enable border normal
for_window [class="Galculator"] floating enable border pixel 2
for_window [title="File Transfer*"] floating enable
for_window [class="Gtkdialog"] floating enable


# for_window [class="netctl-gui"] floating enable


# resize a window (you can also use the mouse for that)
mode "resize" {
	# These bindings trigger as soon as you enter the resize mode

	# Pressing left will shrink the window’s width.
	# Pressing right will grow the window’s width.
	# Pressing up will shrink the window’s height.
	# Pressing down will grow the window’s height.
	bindsym h resize shrink width 10 px or 10 ppt
	bindsym j resize grow height 10 px or 10 ppt
	bindsym k resize shrink height 10 px or 10 ppt
	bindsym l resize grow width 10 px or 10 ppt

	# same bindings, but for the arrow keys
	bindsym Left resize shrink width 10 px or 10 ppt
	bindsym Down resize grow height 10 px or 10 ppt
	bindsym Up resize shrink height 10 px or 10 ppt
	bindsym Right resize grow width 10 px or 10 ppt

	# back to normal: Enter, Escape or space
	bindsym Return mode "default"
	bindsym Escape mode "default"
	bindsym space mode "default"
}

bindsym $mod+r mode "resize"


# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)

bar {
	# status_command "i3status --config ~/.i3/istatus"
	status_command "py3status -c ~/.i3/istatus_$(hostname)"
	position       top
	separator_symbol " "
  strip_workspace_numbers yes

	# colour via http://paletton.com/#uid=74y0u0km+m7devAiGqmrohGxCce
	colors {
  	background #000000
    statusline #ffffff
    # class            border 	backgrd  text
		focused_workspace  #4f2877  #4f2877  #ffffff
    active_workspace   #333333 	#555555  #c5c5c5
    inactive_workspace #000000 	#000000  #c5c5c5
		urgent_workspace   #161616  #2f343a  #eeeeee
	}
}

# class                 border  backgr. text    indicator child_border
client.focused          #4f2877 #4f2877 #ffffff #B46AA6   #D2CA57
client.focused_inactive #333333 #5f676a #ffffff #484e50   #5f676a
client.unfocused        #333333 #222222 #888888 #292d2e   #222222
client.urgent           #2f343a #900000 #ffffff #900000   #900000
client.placeholder      #000000 #0c0c0c #ffffff #000000   #0c0c0c

client.background       #ffffff



# border style; show titles or not. the border toggle feature loses the 4px
bindsym $mod+n border normal
bindsym $mod+Shift+n border pixel 4

# set borders and gaps
new_window pixel 4
new_float pixel 4

gaps inner 3
gaps outer 0


# make sure the initial desktop is the first one
exec i3-msg workspace "1:web"

# Start my defaults layouts on boot
# exec --no-startup-id "i3-msg 'workspace 1; append_layout ~/.config/i3/workspace-1.json'"
