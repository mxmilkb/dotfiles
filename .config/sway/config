##
# This file has been auto-generated by i3-config-wizard and altered by milk.
# It will not be overwritten, so edit it as you like.
#
## sway config file and hotkey help popup
# v6.milk
#
# depends on: to sort


### Sway config extras
# Merge X settings (mainly for urxvt)
exec xrdb ~/.Xresources

# Start security daemon
exec /usr/lib/xfce-polkit/xfce-polkit

# Turn desk USB light off
exec uhubctl -l 1-1.1.1 -p 2 -a off

# Graphical notifications
exec sleep 10 && mako --default-timeout 8000

# Redshift - changed screen colour temp
# exec redshift-gtk -l 55.978301:-3.228586 -t 6000:4500

# Make additional fonts available
# exec xset +fp /usr/share/fonts/local; xset fp rehash

# Battery monitor
# sleep 40 && exec bash -c "if [ $HOST != 'rose*' ]; then vattery; fi"

# Internet radio stream player
exec sleep 20 && radiotray-ng

# Korg nanoKontrol2 MIDI control of PulseAudio
exec sleep 30 && midi2pamixer.py

# Volume system tray
exec sleep 40 && kmix

# Enable xsettings
exec sleep 45 && xsettingsd

# Connect to mobile phone
exec sleep 60 && kdeconnect-indicator


# Break timer
# exec sleep 90 && workrave

# Launch a classic *nix screensaver
# exec sleep 120 && xscreensaver -nosplash

# Disable screensaver on media fullscreen
# exec sleep 180 && caffeine

# infrared control
# exec flirc_util loadconfig ~/.config/flirc/my_flirc_config

# layout doesn't work?? uysing envvar instead
input pc105 {
    xkb_layout gb
    xkb_variant ,nodeadkeys
    xkb_options grp:alt_shift_toggle
}

# output * bg ~/.wallpapers/VnXDN9J_colourised.png fill
output * bg ~/.wallpapers/danielle_at_sea_flickr.jpg fill
# output HDMI-A-1 bg ~/.wallpapers/VnXDN9J_colourised.png fill
# output VGA-1 bg ~/.wallpapers/VnXDN9J_colourised.png fill


###
# tiling split direction
default_orientation horizontal

title_align center

# focus on mouse hover (yes) or click (no)
focus_follows_mouse no

# Switch to workspace with urgent window automatically
# for_window [urgent=latest] focus
focus_on_window_activation urgent
# jump to an urgent window
# bindsym $mod+Shift+x [urgent=latest] focus

# cycle wrap active focus between parent containers
focus_wrapping yes

# press a workspace bind again to go back to the previous workspace
workspace_auto_back_and_forth yes


# Hide mouse pointer after a time (in ms)
seat * hide_cursor 10000

# Mod4 = win (super) key
# Mod1 = alt key
# Mod5 = altgr key
set $mod Mod4


## reload the configuration file
bindsym $mod+Shift+c reload

## restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart


## Set shut down, restart and locking features: (l)ock, (e)xit, switch_(u)ser, (s)uspend, (h)ibernate, (r)eboot, (Shift+s)hutdown
bindsym $mod+Shift+Escape mode "$mode_system"
set $mode_system (l)ock, (e)xit, switch_(u)ser, (s)uspend, (h)ibernate, (r)eboot, (Shift+s)hutdown
mode "$mode_system" {
  bindsym l exec --no-startup-id i3exit lock, mode "default"
  bindsym s exec --no-startup-id i3exit suspend, mode "default"
  bindsym u exec --no-startup-id i3exit switch_user, mode "default"
  bindsym e exec --no-startup-id i3exit logout, mode "default"
  bindsym h exec --no-startup-id i3exit hibernate, mode "default"
  bindsym r exec --no-startup-id i3exit reboot, mode "default"
  bindsym Shift+s exec --no-startup-id i3exit shutdown, mode "default"

  # exit system mode: "Enter" or "Escape"
  bindsym Return mode "default"
  bindsym Escape mode "default"
	bindsym space mode "default"
}

## exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "sway-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'swaymsg exit'"


# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below. ISO 10646 = Unicode
# font -misc-fixed-medium-r-normal--13-120-75-75-C-70-iso10646-1
# The font above is very space-efficient, that is, it looks good, sharp and
# clear in small sizes. However, if you need a lot of unicode glyphs or
# right-to-left text rendering, you should instead use pango for rendering and
# chose a FreeType font, such as:
# font pango:DejaVu Sans Mono 10
# set $font -*-terminus-*-*-*-16-*-*-*-*-*-*-*
# font xft:xos4 terminus 16
# font xft:Fixedsys Excelsior 3.01-L2 12
# font pango:Droid Sans Mono 11
# font -*-gohufont-medium-*-*-*-14-*-*-*-*-*-*-*
font pango:Gohu GohuFont 10


###

# terminal variable
# set $terminal xterm
set $terminal urxvt
# set $terminal termite

## start a terminal
# bindsym $mod+Return exec i3-sensible-terminal
# bindsym $mod+Return exec urxvtcd
bindsym $mod+Return exec urxvt

## lanch terminal in focused current working directory
bindsym $mod+Ctrl+Return exec "urxvt -cd `xcwd`"

## start a floating terminal
bindsym $mod+Shift+Return exec $terminal -title floating_terminal
for_window [title="floating_terminal$"] floating toggle

## clock terminal
bindsym $mod+semicolon exec "$terminal -name floating-tty-clock -geometry 60x9-100-100 -e tty-clock -s -b -c -C 2 -D"
for_window [instance="floating-tty-clock$"] floating toggle

## oblique strategy
bindsym $mod+Shift+semicolon exec "urxvt +sb -cr black -name oblique-strategy -geometry 100x3+230+500 -hold -e /home/milk/bin/oblique-strategies"
for_window [instance="oblique-strategy$"] floating toggle


###
## kill focused window
bindsym $mod+q kill
bindsym $mod+Delete kill
bindsym --release $mod+Ctrl+q exec xkill

## ctrl and mouse right click a window title, this kills the window
# bindsym --release $mod+Ctrl+button3 kill
bindsym  --whole-window button9 kill
bindsym  --whole-window Mod2+button9 kill

## move (floating) window to center of screen
bindsym  --whole-window Mod4+button8 move position center


## start dmenu (a program launcher)
# bindsym $mod+space exec dmenu_run.pl -h 17 -fn $font -nb '#000000' -nf '#c5c5c5' -sb '#4f2877' -sf '#ffffff' -dim 0.4 -dc '#485D00'
# There also is the (new) i3-dmenu-desktop which only displays applications
# shipping a .desktop file. It is a wrapper around dmenu, so you need that
# installed.
# bindsym $mod+d exec --no-startup-id i3-dmenu-desktop
# bindsym $mod+space exec "dlaunch --sources=exec-path"
bindsym $mod+space exec "rofi -modi combi -combi-modi 'drun#run' -show combi -show-icons -width 60 -lines 25 -theme purple.rasi -display-combi ''"
## or use Alt GR
bindsym ISO_Level3_Shift exec "rofi -modi combi -combi-modi 'drun#run' -show combi -show-icons -width 60 -lines 25 -theme purple.rasi -display-combi ''"
## and Ctrl+Alt GR simulate Esc
#bindsym --release Ctrl+ISO_Level3_Shift exec xdotool Escape
bindsym --release Ctrl+ISO_Level3_Shift exec --no-startup-id xvkbd -xsendevent -text "\[Escape]"

## launch audio apps
# to replace run/raise with?:
# bindsym $mod+2 workspace 2:web; layout tabbed; exec [ $(ps h -C vimb | wc -l) = 0 ] && /usr/bin/vimb -s
bindsym $mod+p exec run-or-raise.sh pavucontrol-qt
# bindsym $mod+p exec $terminal -title 'pulsemixer' -geometry 130x30 -e pulsemixer
bindsym $mod+Mod1+p exec "run-or-raise.sh pulseeffects"
bindsym $mod+Shift+p exec "run-or-raise.sh cadence"
bindsym $mod+Ctrl+p exec $terminal -geometry 130x30 -e alsamixer -c0

## change pulseaudio volume
bindsym $mod+Ctrl+KP_Subtract exec amixer -D pulse sset Master 5%-
bindsym $mod+Ctrl+KP_Add exec amixer -D pulse sset Master 5%+

bindsym XF86AudioLowerVolume exec amixer -D pulse sset Master 5%-
bindsym XF86AudioRaiseVolume exec amixer -D pulse sset Master 5%+

bindsym $mod+Ctrl+KP_Multiply exec pactl set-sink-mute 0 toggle
bindsym XF86AudioMute exec pactl set-sink-mute 0 toggle

# media keys control radiotray
bindsym XF86AudioPrev exec "qdbus com.github.radiotray_ng /com/github/radiotray_ng com.github.radiotray_ng.previous_station"
bindsym XF86AudioNext exec "qdbus com.github.radiotray_ng /com/github/radiotray_ng com.github.radiotray_ng.next_station"
bindsym XF86AudioPlay exec "qdbus com.github.radiotray_ng /com/github/radiotray_ng com.github.radiotray_ng.play"
bindsym XF86Tools exec "qdbus com.github.radiotray_ng /com/github/radiotray_ng com.github.radiotray_ng.play"
bindsym XF86AudioStop exec "qdbus com.github.radiotray_ng /com/github/radiotray_ng com.github.radiotray_ng.stop"

# screen brightness
bindsym $mod+Shift+KP_Subtract exec brightness.sh down
bindsym $mod+Shift+KP_Add exec brightness.sh up

# override screensaver
bindsym XF86Launch1 exec "caffeine -ka"
bindsym $mod+XF86Launch1 exec "caffeine -kd"

## launch screen lock
bindsym $mod+Shift+x exec swaylock-blur

## blank screen now until mouse or keyboard action
bindsym --release $mod+Ctrl+x exec swayidle timeout 1 'swaymsg "output * dpms off"' resume 'swaymsg "output * dpms on"; pkill -n swayidle'

## launch i3 config help terminal
bindsym $mod+F1 exec --no-startup-id $terminal -geometry 125x46 -title "i3_hotkey_help" -e ~/bin/i3/i3-hotkey-help.sh
for_window [title="i3_hotkey_help$"] floating toggle

## launch or switch to scratch notes text file
bindsym $mod+Shift+F1 exec geany ~/documents/scratch

## launch or switch to file manager
bindsym $mod+F2 exec run-or-raise.sh doublecmd
bindsym XF86Explorer exec run-or-raise.sh doublecmd
bindsym $mod+Shift+F2 exec run-or-raise.sh pcmanfm-qt

## launch or switch to bittorrent client
bindsym $mod+F3 exec run-or-raise.sh qbittorrent
## launch or switch to soulseek client
bindsym $mod+Shift+F3 exec run-or-raise.sh soulseekqt

## launch or switch to gmusicbrowser
bindsym $mod+F4 exec run-or-raise.sh gmusicbrowser

## launch carla plugin host
bindsym $mod+F8 exec run-or-raise.sh carla

## launch password manager
bindsym $mod+F10 exec run-or-raise.sh keepassxc ~/documents/sync/keepassxc-mb.kdbx

## launch or switch to irc client
bindsym $mod+F11 exec run-or-raise.sh quasselclient

## launch or switch to browser
# bindsym $mod+F12 exec run-or-raise.sh chromium
# bindsym XF86WWW exec run-or-raise.sh chromium
bindsym $mod+F12 exec run-or-raise.sh firefox
bindsym XF86WWW exec run-or-raise.sh firefox

## launch trello
# bindsym $mod+Shift+F12 exec chromium --app=https://trello.com/b/AdniCH2y/to-do

## launch gmail
# bindsym XF86Mail exec "chromium https://gmail.com && run-or-raise.sh chromium"
bindsym XF86Mail exec "firefox https://gmail.com && run-or-raise.sh firefox"


## launch vlc
bindsym $mod+Shift+v exec vlc


## switch video output between cloned or seperate desktops
#bindsym $mod+Ctrl+F9 exec "xrandr --output DVI-I-0 --same-as DVI-I-1"
#bindsym $mod+Ctrl+F10 exec "xrandr --output DVI-I-1 --mode 1280x1024 --pos 0x0 --panning 0x0+0+0 --output DVI-I-0 --mode 1280x1024 --pos 1280x0"
# use secondary monitor only
# bindsym $mod+Ctrl+F9 exec "mons -s"
# bindsym $mod+Ctrl+Shift+F9 exec "mons -o"
bindsym $mod+Ctrl+F9 exec "sway output VGA-1 enable && sleep 1 && sway output LVDS-1 disable"
bindsym $mod+Ctrl+Shift+F9 exec "sway output LVDS-1 enable && sleep 1 && sway output VGA-1 disable"


## screenshot of whole desktop
# bindsym --release $mod+Print exec import -window root ~/images/screenshots/$(hostname --short)_$(date +%Y-%m-%d-%T).png
bindsym --release $mod+Print exec grim -o $(swaymsg -t get_outputs | jq -r '.[] | select(.focused).name') ~/images/screenshots/$(hostname --short)_$(date +%Y-%m-%d-%T).png
bindsym --release $mod+Ctrl+Print exec grim -g "$(slurp)" ~/images/screenshots/$(hostname --short)_$(date +%Y-%m-%d-%T)-region.png
bindsym --release $mod+Mod3+Print exec grim ~/images/screenshots/$(hostname --short)_$(date +%Y-%m-%d-%T).png


## screenshot of active window
# bindsym --release $mod+Ctrl+Print exec import -window `xprop -root | grep "_NET_ACTIVE_WINDOW(WINDOW)" | echo ${activeWinLine:40}` ~/images/screenshots/$(hostname --short)_$(date +%Y-%m-%d-%T).png
# bindsym --release $mod+Ctrl+Print exec import -window `xprop -root | grep "_NET_ACTIVE_WINDOW(WINDOW)" | echo ${activeWinLine:40}` ~/images/screenshots/$(hostname --short)_$(date +%Y-%m-%d-%T).png

## screenshot of selected window (click) or area (drag)
# bindsym --release $mod+Shift+Print exec import ~/images/screenshots/$(hostname --short)_$(date +%F_%H%M%S_%N).png
# https://github.com/emersion/slurp/issues/16

## screenshot of right hand monitor
# bindsym $mod+Mod1+F12 exec import -crop 1280x1024+1280+0 -window root ~/images/screenshots/$(hostname --short)_$(date +%Y-%m-%d-%T).png"

## xev
# bindsym $mod+F9 exec "$terminal -name 'Event Tester' -geometry 60x9-100-100 -e xev -event keyboard"


# new windows will be split in horizontal orientation
# bindsym $mod+b split h
# mnemonic b as in just below h
# new windows will be split in vertical orientation
# bindsym $mod+v split v

###
## change container layouts
bindsym $mod+w layout toggle split
## toggle between horizontal/vertical splitting for new windows
bindsym $mod+numbersign split toggle

bindsym $mod+s layout stacking
## mnemonic: below w, stacking puts window titles visually below each other
bindsym $mod+e layout tabbed


## focus the parent container
bindsym $mod+a focus parent

## focus the child container
bindsym $mod+d focus child


## toggle tiling / floating
bindsym $mod+z floating toggle

## change focus between tiling / floating windows
bindsym $mod+Shift+z focus mode_toggle


## move focused floating window to top right
bindsym $mod+y exec "xdotool getwindowfocus windowmove 600 100"

## move focused floating window to mid right
bindsym $mod+u exec "xdotool getwindowfocus windowmove 600 400"

## move focused floating window to bottom right
bindsym $mod+i exec "xdotool getwindowfocus windowmove 600 607"


## toggle floating window to sticky or not
bindsym $mod+c sticky toggle


## enter fullscreen mode for the focused container
bindsym $mod+f fullscreen

## toggle bar visibility
bindsym $mod+Shift+f bar mode toggle

## change focus - using vim equivalent binds not i3 default
bindsym $mod+h focus left
bindsym $mod+j focus down

bindsym $mod+Prior focus left
bindsym $mod+Next focus right

bindsym $mod+k focus up
bindsym $mod+l focus right

bindsym $mod+Up focus up
bindsym $mod+Down focus down

bindsym $mod+Left workspace prev_on_output
bindsym $mod+Right workspace next_on_output
bindsym $mod+Ctrl+h workspace prev_on_output
bindsym $mod+Ctrl+l workspace next_on_output


## windows like alt-tab
set $i3t_alt_tab        ~/bin/i3/i3t.py n
set $i3t_alt_shift_tab  ~/bin/i3/i3t.py p
bindsym $mod+Tab exec $i3t_alt_tab
bindsym $mod+Shift+Tab exec $i3t_alt_shift_tab

## jump between last two workspaces with `
bindsym $mod+grave workspace back_and_forth


###
## move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

bindsym $mod+Shift+Prior move left
bindsym $mod+Shift+Next move right

## alternatively, you can use the cursor keys:
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up

## Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

## right mouse button on a window title moves it to the other monitor
bindsym --release $mod+button3 move window to output right


## resize a window (you can also use the mouse for that)
bindsym $mod+r mode "resize"

mode "resize" {
	# These bindings trigger as soon as you enter the resize mode

	# Pressing left will shrink the window’s width.
	# Pressing right will grow the window’s width.
	# Pressing up will shrink the window’s height.
	# Pressing down will grow the window’s height.
	bindsym h resize shrink width 10 px or 10 ppt
	bindsym j resize grow height 10 px or 10 ppt
	bindsym k resize shrink height 10 px or 10 ppt
	bindsym l resize grow width 10 px or 10 ppt

	# same bindings, but for the arrow keys
	bindsym Left resize shrink width 10 px or 10 ppt
	bindsym Down resize grow height 10 px or 10 ppt
	bindsym Up resize shrink height 10 px or 10 ppt
	bindsym Right resize grow width 10 px or 10 ppt

	# ctrl for fine
	bindsym Ctrl+h resize shrink width 2 px or 2 ppt
	bindsym Ctrl+j resize grow height 2 px or 2 ppt
	bindsym Ctrl+k resize shrink height 2 px or 2 ppt
	bindsym Ctrl+l resize grow width 2 px or 2 ppt

	# same bindings, but for the arrow keys
	bindsym Ctrl+Left resize shrink width 2 px or 2 ppt
	bindsym Ctrl+Down resize grow height 2 px or 2 ppt
	bindsym Ctrl+Up resize shrink height 2 px or 2 ppt
	bindsym Ctrl+Right resize grow width 2 px or 2 ppt

	# back to normal: Enter, Escape or space
	bindsym Return mode "default"
	bindsym Escape mode "default"
	bindsym space mode "default"
}


## move window to scratchpad
# bindsym $mod+Shift+numbersign move scratchpad
## show last window sent to scratchpad
# bindsym $mod+numbersign scratchpad show


# # workspace name varilables, numerical keeps them in persistent order
# set $o1 "1:web"
# set $o2 "2:misc"
# set $o3 "3:term"
# set $o4 "4:misc"
# set $o5 "5:misc"
# set $o6 "6:app"
# set $o7 "7:term"
# set $o8 "8:term"
# set $o9 "9:jack"
# set $oa "10:vol"


# Rename workspace with i3-input using numbers and text
# bindsym $mod+Shift+n exec i3-input -F 'rename workspace to "%s"' -P 'New name: '

# assign workspace to monitor
# workspace 11 output DVI-I-0
# workspace 12 output DVI-I-0
# workspace 13 output DVI-I-0
# workspace 14 output DVI-I-0
# workspace 15 output DVI-I-0
# workspace 16 output DVI-I-0
# workspace 17 output DVI-I-0
# workspace 18 output DVI-I-0
# workspace 19 output DVI-I-0
# workspace 10 output DVI-I-0
# workspace 100:1- output DVI-I-0
# workspace 1000:1= output DVI-I-0
# workspace 21 output DVI-I-1
# workspace 22 output DVI-I-1
# workspace 23 output DVI-I-1
# workspace 24 output DVI-I-1
# workspace 25 output DVI-I-1
# workspace 26 output DVI-I-1
# workspace 27 output DVI-I-1
# workspace 28 output DVI-I-1
# workspace 29 output DVI-I-1
# workspace 20 output DVI-I-1
# workspace 200:2- output DVI-I-1
# workspace 2000:2= output DVI-I-1
#
# new:
# workspace 11 output LVDS-1
# workspace 12 output LVDS-1
# workspace 13 output LVDS-1
# workspace 14 output LVDS-1
# workspace 15 output LVDS-1
# workspace 16 output LVDS-1
# workspace 17 output LVDS-1
# workspace 18 output LVDS-1
# workspace 19 output LVDS-1
# workspace 10 output LVDS-1
# workspace 100:1- output LVDS-1
# workspace 1000:1= output LVDS-1
# workspace 21 output VGA-1
# workspace 22 output VGA-1
# workspace 23 output VGA-1
# workspace 24 output VGA-1
# workspace 25 output VGA-1
# workspace 26 output VGA-1
# workspace 27 output VGA-1
# workspace 28 output VGA-1
# workspace 29 output VGA-1
# workspace 20 output VGA-1
# workspace 200:2- output VGA-1
# workspace 2000:2= output VGA-1


###
## switch to workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 100:0
bindsym $mod+minus workspace 1000:-
bindsym $mod+equal workspace 10000:=

## num-pad workspace window focus
bindsym $mod+KP_1 1
bindsym $mod+KP_2 2
bindsym $mod+KP_3 3
bindsym $mod+KP_4 4
bindsym $mod+KP_5 5
bindsym $mod+KP_6 6
bindsym $mod+KP_7 7
bindsym $mod+KP_8 8
bindsym $mod+KP_9 9
bindsym $mod+KP_0 100:0

## move focused container to workspace and follow
bindsym $mod+Shift+1 move container to workspace 1; workspace 1
bindsym $mod+Shift+2 move container to workspace 2; workspace 2
bindsym $mod+Shift+3 move container to workspace 3; workspace 3
bindsym $mod+Shift+4 move container to workspace 4; workspace 4
bindsym $mod+Shift+5 move container to workspace 5; workspace 5
bindsym $mod+Shift+6 move container to workspace 6; workspace 6
bindsym $mod+Shift+7 move container to workspace 7; workspace 7
bindsym $mod+Shift+8 move container to workspace 8; workspace 8
bindsym $mod+Shift+9 move container to workspace 9; workspace 9
bindsym $mod+Shift+0 move container to workspace 100:0; workspace 100:0
bindsym $mod+Shift+minus move container to workspace 1000:-; workspace 1000:-
bindsym $mod+Shift+equal move container to workspace 10000:=; workspace 10000:=

## num-pad workspace window move
bindsym $mod+Shift+KP_1 move container to workspace 1; workspace 1
bindsym $mod+Shift+KP_2 move container to workspace 2; workspace 2
bindsym $mod+Shift+KP_3 move container to workspace 3; workspace 3
bindsym $mod+Shift+KP_4 move container to workspace 4; workspace 4
bindsym $mod+Shift+KP_5 move container to workspace 5; workspace 5
bindsym $mod+Shift+KP_6 move container to workspace 6; workspace 6
bindsym $mod+Shift+KP_7 move container to workspace 7; workspace 7
bindsym $mod+Shift+KP_8 move container to workspace 8; workspace 8
bindsym $mod+Shift+KP_9 move container to workspace 9; workspace 9
bindsym $mod+Shift+KP_0 move container to workspace 100:0; workspace 100:0

## move focused container to workspace and don't follow
bindsym $mod+Ctrl+1 move container to workspace 1
bindsym $mod+Ctrl+2 move container to workspace 2
bindsym $mod+Ctrl+3 move container to workspace 3
bindsym $mod+Ctrl+4 move container to workspace 4
bindsym $mod+Ctrl+5 move container to workspace 5
bindsym $mod+Ctrl+6 move container to workspace 6
bindsym $mod+Ctrl+7 move container to workspace 7
bindsym $mod+Ctrl+8 move container to workspace 8
bindsym $mod+Ctrl+9 move container to workspace 9
bindsym $mod+Ctrl+0 move container to workspace 100:0
bindsym $mod+Ctrl+minus move container to workspace 1000:-
bindsym $mod+Ctrl+equal move container to workspace 10000:=

## mod + alt + n = switch to workspace and start a terminal
bindsym $mod+Mod1+1 workspace 1; exec $TERMINAL
bindsym $mod+Mod1+2 workspace 2; exec $TERMINAL
bindsym $mod+Mod1+3 workspace 3; exec $TERMINAL
bindsym $mod+Mod1+4 workspace 4; exec $TERMINAL
bindsym $mod+Mod1+5 workspace 5; exec $TERMINAL
bindsym $mod+Mod1+6 workspace 6; exec $TERMINAL
bindsym $mod+Mod1+7 workspace 7; exec $TERMINAL
bindsym $mod+Mod1+8 workspace 8; exec $TERMINAL
bindsym $mod+Mod1+9 workspace 9; exec $TERMINAL
bindsym $mod+Mod1+0 workspace 100:0;  exec $TERMINAL
bindsym $mod+Mod1+minus workspace 1000:-; exec $TERMINAL
bindsym $mod+Mod1+equal workspace 10000:=; exec $TERMINAL



## move container between adjacent workspaces and follow
bindsym $mod+Shift+Left move container to workspace prev_on_output; workspace prev_on_output
bindsym $mod+Shift+Right move container to workspace next_on_output; workspace next_on_output

## move container between workspaces
bindsym $mod+Ctrl+Left move container to workspace prev_on_output
bindsym $mod+Ctrl+Right move container to workspace next_on_output


## focus on next empty workspace
bindsym $mod+comma exec ~/bin/i3/i3-firstempty-focus.sh

## move container to next empty workspace 
bindsym $mod+period exec ~/bin/i3/i3-firstempty-move.sh

## focus on next empty workspace, start terminal - BROKEN
bindsym $mod+Mod1+comma exec ~/bin/i3/i3-firstempty-focus.sh; exec $TERMINAL
# bindsym $mod+Mod1+period exec "~/bin/i3/i3-nextempty-focus.sh; swaymsg --no-startup-id exec $TERMINAL"


## change focus between monitor outputs
bindsym $mod+o focus output right

## move a window between outputs and follow
bindsym $mod+Shift+o move window to output right; focus output right

## move a window between outputs and don't follow
bindsym $mod+Ctrl+o move window to output right


## move workspace to between outputs
bindsym $mod+Shift+i exec ~/bin/i3/cycle-workspace.py

## swap workspaces between outputs
bindsym $mod+Ctrl+i exec ~/bin/i3/switch.py



# assign apps to default workspaces
assign [class="dolphin"] 2
assign [app_id="pcmanfm"] 2
assign [class="Double Commander"] 2
assign [app_id="qbittorrent"] 3
assign [app_id="soulseekqt"] 3
assign [class="Gmusicbrowser"] 4
assign [title="seq64 -"] 6
assign [title="seq64 \#"] 7
assign [class="shuriken"] 6
assign [class="Radium_compressor"] 5
assign [class="Carla"] 8
assign [class="Patchage"] 8
assign [class="Catia.py"] 8
assign [class="Cadence.py"] 9
# assign [title="pavucontrol*"] 9
assign [app_id="Pulseeffects"] 9
assign [title="Google Chrome"] 1000:-
assign [title="Chromium"] 1000:-
assign [title="Firefox"] 1000:-
assign [class="Hexchat"] 10000:=
assign [class="quassel"] 10000:=

# assign [app_id="pavucontrol*"] 9
assign [app_id="quassel"] 10000:=


# autofloat
for_window [class="Cadence"] floating enable
for_window [class="pavucontrol"] floating enable, move absolute position center
for_window [class="Pulseeffects"] floating enable, move absolute position center
# for_window [class="octopi-notifier"] floating enable
for_window [class="Pamac-updater"] floating enable
for_window [class="Syncthing GTK"] floating enable
for_window [title="alsamixer"] floating enable
for_window [class="Vlc"] floating enable
for_window [class="mpv"] floating enable
for_window [class="(?i)virtualbox"] floating enable border normal
for_window [class="GParted"] floating enable border normal
for_window [class="Galculator"] floating enable
for_window [title="File Transfer*"] floating enable
for_window [class="Gtkdialog"] floating enable, move absolute position center
for_window [class="Radiotray"] floating enable, move absolute position center
for_window [title="seq64 - *"] floating enable, move absolute position center
for_window [title="Sequencer64 - *"] floating enable, move absolute position center
for_window [class="Vmpk"] floating enable, move absolute position center
for_window [title="etcher-electron"] floating enable, move absolute position center
for_window [title="Magnifying Glass"] floating toggle
for_window [title="Event Tester"] floating enable
for_window [title="pulsemixer"] floating enable, move absolute position center
for_window [instance="trello.com__b_AdniCH2y_to-do" title="To Do | Trello" window_role="pop-up"] floating enable
for_window [class="DNSCryptClient" instance="DNSCryptClient" title="DNSCryptClient"] floating enable
for_window [class="Envy24control" instance="envy24control"] floating enable
for_window [title="Ray Session"] floating enable
for_window [title="GSmartControl"] floating enable

# autofloat wayland
for_window [app_id="pavucontrol-qt"] floating enable
for_window [app_id="org.kde.kmix"] floating enable
for_window [app_id="keepassxc"] floating enable


# auto resize
for_window [title="seq64 -"] resize set 1180 712


# container/window colours
# class                 border    backgr.    text     indicator  child_border
client.focused          #9a29bbaa #9a29bbaa  #ffffff  #ff79c6cc    #9a29bbaa
client.focused_inactive #000000   #000000    #bbbbbb  #ff79c6cc    #00000000
client.unfocused        #000000   #000000    #bbbbbb  #ff79c6cc    #00000000
client.urgent           #2f343a   #aa0000    #ffffff  #aa0000    #aa0000
client.placeholder      #000000   #0c0c0c    #ffffff  #000000    #0c0c0c
#client.focused_inactive #777777   #000000    #ffffff  #bd93f9   #000000
#client.unfocused        #777777   #000000    #c5c5c5  #472877   #000000

client.background       #000000

## border style; show titles or not. the border toggle feature loses the 4px
bindsym $mod+b border toggle 4

# set borders and gaps
new_window pixel 3
new_float pixel 3

gaps inner 4
gaps outer 2

hide_edge_borders none

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)

bar {
  # status_command "i3status --config ~/.config/i3/istatus"
  # status_command "py3status --config ~/.config/i3/istatus"
  status_command "py3status -c ~/.config/i3/istatus_$(hostname --short)"

	position       top
	separator_symbol " "
  strip_workspace_numbers yes
	bindsym button4 nop
  bindsym button5 nop
  binding_mode_indicator yes

	# colour via http://paletton.com/#uid=74y0u0km+m7devAiGqmrohGxCce
	colors {
  	background #000000dd

statusline #ffffff
    # class            border   	backgrd    text
		focused_workspace  #9a29bbcc  #9a29bbcc  #ffffff
    active_workspace   #555555   	#555555    #ffffff
    inactive_workspace #000000dd  #000000dd  #c5c5c5
		urgent_workspace   #aa0000    #aa0000    #ffffff
	}
}

# disable mousewheel workspace change on bar
# bindsym button4 nop
# bindsym button5 nop


# switch workspaces on mod+mousewheel up/down
bindsym --whole-window --border $mod+button5 workspace next_on_output
bindsym --whole-window --border $mod+button4 workspace prev_on_output

# revert gtk hijack of shift-insert back to PRIMARY rather than CLIPBOARD
bindsym Shift+Insert exec "xdotool click 2"

# make sure the initial desktop is the first one
workspace 0
focus output right


# Start my defaults layouts on boot
# exec --no-startup-id "swaymsg 'workspace 1; append_layout ~/.config/i3/workspace-1.json'"

for_window [class=".*"] title_format " %title

# for_window [urgent=last] border pixel 2
# exec i3-onfocus.py
# force_display_urgency_hint 2000 ms
